{% extends 'base.html.twig' %}

{% block overhead %}
	<link
	rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
	<!-- Make sure you put this AFTER Leaflet's CSS -->
	<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
	<script defer src="{{asset('js/AllMapDetailFest.js')}}"></script>
{% endblock %}

{% block title %}festivals
{% endblock %}

{% block body %}
	{{ form_start(form, { attr: { 'class': 'searchbar' } }) }}
	{{ form_widget(form.q, { attr: { 'placeholder': 'search_placeholder'|trans({},'searchbar') } }) }}
	{% if searched %}
		<a id="cancel-research" href="{{ path('app_festival_all') }}"><img src="{{ asset('icons/fermer.png') }}" alt="cross" id="cross"></a>
	{% endif %}
	<input type="submit" id="saf" value="">
	{{ form_end(form) }}
	<!-- Map All Festivals -->
	<div class="index-wrapper">
		<button class="map-btn"><a style="color: white" id="cancel-research" href="{{ path('app_map') }}">{{ 'map_show'|trans({},'festival') }}</a></button>
		<div id="map"></div>
		{% if festivals|length == 0 %}
			<div style="width: 100%; font-size: larger; text-align: center; margin-top: 100px;">
				{{ 'no_fest'|trans({},'festival')}}
			</div>
		{% else %}
			<div class="fest-wrapper">
				{% for festival in festivals %}
					{{ include('festival/fest.html.twig',{'festival':festival}) }}
				{% endfor %}
			</div>
		{% endif %}
	</div>
	<div class="pagination">
		{{ knp_pagination_render(festivals) }}
	</div>
{% endblock %}
